plaintiff and respondent abf capital corporation plaintiff sued defendants and appellants grove properties company grove and thomas day collectively,defendants for alleged breach of contract,of which plaintiff claimed to be a third party beneficiary.the trial court sustained defendants demurrer without leave to amend and entered judgment in favor of defendants.the court denied defendants motion for contractual attorney fees,however defendants now appeal the order denying an award of attorney fees.
for the reasons set forth below,we shall reverse the court order denying attorney fees.
facts and procedural history 
plaintiff is a delaware corporation with its principal place of business in new york.defendant grove is a california general partnership defendant day is a california citizen.in,defendants bought units in a limited partnership offered by oak energy partners the limited partnership was in the business of operating oil and gas properties in texas and oklahoma.the oak energy partners limited partnership entered into some subleases with plaintiff the limited partnership was to pay minimum annual royalties to plaintiff for these subleases.
defendants entered into an assumption of liabilities contract with oak energy partners,under which they agreed to unconditionally assume primary personal liability to pay that amount of any minimum annual royalty payable during the first two years of three specified subleases which plaintiff,abf shall elect to defer pursuant to the contract.
plaintiff argued that it was an intended third party beneficiary of the assumption of liabilities contract between defendants and oak energy partners.the assumption of liabilities contract also contained two specific provisions which are germane to our consideration a provision and an attorney fees provision.
first,as to choice of law 
governing law.this agreement is governed by and construed under the laws of the state of new york.
second,the contract contained a provision which obligated defendants,but not oak energy properties,to pay attorney fees 
attorneys fees.the partner defendants,grove agrees to pay reasonable attorneys fees and all other costs and expenses which may be incurred by the partnership or sublessor plaintiff abf in the enforcement of this agreement wherein it is decided or adjudicated that the partner has breached this agreement.
plaintiff filed this action in california,alleging that defendants had breached the assumption of liabilities contract,in violation of a duty to plaintiff as third party beneficiary of that contract.
defendants demurred to the first amended complaint,asserting that plaintiff had failed to plead around the new york statute of limitations for bringing the action.the trial court sustained the demurrer without leave to amend.the trial court had found,first,that the provision was valid,and that it must look to new york law in construing the contract.the court determined,second,that the first amended complaint was under new york law.following this ruling,the parties asked the court to dismiss the action,so as to facilitate an appeal.notice of judgment in favor of defendants was served on august.
thereafter,defendants moved for an award of attorney fees under the unilateral attorney fees provision contained in the assumption of liabilities contract,pursuant to california civil code section,subdivision a.plaintiff opposed the fees motion on the ground that new york law governed construction of the attorney fees provision of the contract new york law,unlike california law,does not provide for mutuality of a unilateral attorney fees provision contained in a contract.
the trial court denied the motion for attorney fees,refusing effect to california mutuality provisions.
defendants have appealed the denial of their attorney fees motion.they contend that,as to the mutuality of attorney fees,california law,and not new york law,should be controlling.
i.the appeal is proper 
preliminarily,we take up the point raised by plaintiff that the order denying attorney fees is not an appealable order.plaintiff asserts that no judgment was entered after plaintiff first amended complaint was dismissed.therefore,plaintiff urges,the order denying attorney fees is not an order after judgment,and is therefore not appealable under code of civil procedure section,subdivision a.
plaintiff relies,in support of this contention,on the result of an earlier substantive appeal.plaintiff appealed the substantive ruling on the new york statute of limitations to this court in case no.on february,we dismissed plaintiff appeal without prejudice,on the ground that plaintiff had failed to provide a sufficient record to establish an appealable judgment.plaintiff now urges that our order in the earlier appeal is law of the case,precluding defendants from showing that their appeal from the attorney fees order is an appealable order after judgment.
the law of the case doctrine states that when,in deciding an appeal,an appellate court states in its opinion a principle or rule of law necessary to the decision,that principle or rule becomes the law of the case and must be adhered to throughout its subsequent progress,both in the lower court and upon subsequent appeal,and this although in its subsequent consideration this court may be clearly of the opinion that the former decision is erroneous in that particular.citations.kowis howard cal th,d.the order dismissing the earlier appeal was not an opinion,and it was not based upon a principle,necessary to the substantive resolution of this case.it was certainly not determinative of the issue whether a different,appealable,judgment or order had been or could be entered.
notably,in the earlier appeal,plaintiff had presented only a minute order,dated july,indicating that the demurrer to the first amended complaint had been sustained without leave to amend.because an order sustaining a demurrer without leave to amend is not an appealable order,we quite naturally dismissed the appeal.our dismissal order did,nevertheless,afford plaintiff the opportunity to reinstate its appeal upon supplying further documentation establishing that an appealable order or judgment had been entered.plaintiff failed to do so.plaintiff failure to provide additional documentation to substantiate its appeal does not,however,establish as law of the case that such documentation did not or could not exist.rather,our order fully recognized that a final judgment or an order of dismissal might well have been entered.
here,defendants have included items which were absent from the record in the earlier appeal.for example,the reporter transcript of the hearing on the demurrer expressly shows that plaintiff attorney requested entry of judgment but actually,to expedite the matter,i would ask that you enter judgment of dismissal so it becomes appealable.italics added.the court acquiesced,saying it was so ordered.italics added.
the record here contains more information on the issue of appealability than did the record in the earlier appeal.on the face of things,it is not entirely clear that a proper judgment has in fact been omitted altogether from the trial record.indeed,in contrast to the earlier substantive appeal,the indicia are to the contrary.plaintiff requested that judgment be entered,and the court ordered the same to be done.at first blush,therefore,the appellate record here shows that judgment had been properly ordered,and we generally assume that official duties are regularly performed.see.we could not,at least initially,simply presume that there was no judgment,but only that the judgment itself had not been produced in the appellate record.the requisite judgment had been duly ordered,and there should have been no impediment to obtaining a proper judgment.
at this juncture,however,defendants have failed to produce an actual judgment,even after the omission has been brought to their attention.as the prevailing parties at trial,to whom the duty to prepare the judgment would naturally fall,defendants may not have felt compelled to assure the entry of a formal judgment for purposes of plaintiff substantive appeal.we confess that we are somewhat at a loss to understand,however,why defendants have failed to produce a formal judgment for purposes of their own appeal,particularly after the matter has been repeatedly pointed out.defendants have simply continued to insist either that a judgment was entered although failing to supply any such document or that one was unnecessary arguing that the attorney fees order was a final collateral order.the failure to provide a copy of the judgment at this point bespeaks an inability to do so the inability to do so supports plaintiff claim that no such document presently exists.
ordinarily,this court policy is not to save an erroneous appeal from a nonappealable order.shpiller harry c redlands th,d.nonetheless,where,as here,it is clear that an appealable judgment should have been rendered,the appellate court is empowered to order the trial court to enter the judgment nunc pro tunc.the judgment is then treated as entered when it should have been entered.coe city of los angeles th,d.accordingly,we now order the trial court to do so in this case.
it is also within our power to have ordered defendants,as the appellants,to obtain the omitted judgment.see maria westec residential security th,fn,d.at this time,however,it would cause undue delay to require them to obtain the judgment therefore we hereby order the trial court to enter the judgment of dismissal,nunc pro tunc to july.a nunc pro tunc judgment is deemed entered as of the date it should have been entered consequently,the attorney fees order may then properly be treated as an order after judgment,and is therefore appealable.
ii.the court erred in denying attorney fees 
contentions of the parties 
plaintiff urges that the trial court correctly denied defendants motion for attorney fees.plaintiff reasons,as did the trial court,that the court had already found valid the provision.thus,new york law should apply.the positive law of new york would enforce a unilateral attorney fees provision.therefore,because the contract failed to impose any obligation on plaintiff to pay attorney fees,the court properly denied defendants motion for such fees.
plaintiff further contends,and the trial court agreed,that plcm group,drexler cal th,d,demonstrates that denying application of california civil code section subdivision a,the reciprocal attorney fees provision,does not contravene any fundamental public policy of california,because defendant grove,a business entity,is not within the class of persons intended to benefit from the law.
defendants maintain,however,that under proper doctrine,the law of california applies to the question of entitlement to attorney fees,and that the fundamental public policy of california indeed does mandate reciprocal treatment of a unilateral contractual attorney fees provision.
we agree with defendants that civil code section,subdivision a reflects a fundamental public policy of this state,which is applicable to the contract at issue.plcm group,drexler,supra,cal th,d,was therefore in error on this point.in particular,the plcm group court erred in holding that business entities are not within the class of persons affected by civil code section,subdivision a.in this regard,we find the decision of the federal district court in ribbens international,transport international pool,d more persuasive on the issue of the intended reach of civil code section,subdivision a.
the question whether california law should apply is,however,an issue in its own right.as plaintiff points out,several california cases have simply passed over this distinct analytical question.we agree with plaintiff that the proper determination of questions requires the court to include all the relevant steps in its analysis.ultimately,our examination of the relevant criteria leads us to agree with defendants that california law does apply.
principles of analysis 
generally,california follows a governmental interests approach to choice of laws questions.janzen workers comp.appeals bd.th,fn.d.two different strands of this analysis are applied,depending upon whether the parties have included a provision in the contract.
when no provision in the contract 
if there is no contractual provision,and california is the forum state,california employs a examination to determine which law to apply g enerally speaking the forum will apply its own rule of decision unless a party litigant timely invokes the law of a foreign state.in such event that party must demonstrate that the latter rule of decision will further the interest of the foreign state and therefore that it is an appropriate one for the forum to apply to the case before it.citations.the foreign law proponent must identify the applicable rule of law in each potentially concerned state and must show it materially differs from the law of california i f the relevant laws of each state are identical,there is no problem and the trial court may find california law applicable to class claims.citations.if,however,the trial court finds the laws are materially different,it must proceed to the second step and determine what interest,if any,each state has in having its own law applied to the case.citation.despite materially different laws,there is still no problem in choosing the applicable rule of law where only one of the states has an interest in having its law applied.citations.only if the trial court determines that the laws are materially different and that each state has an interest in having its own law applied,thus reflecting an actual conflict,must the court take the final step and select the law of the state whose interests would be more impaired if its law were not applied.citations.in making this comparative impairment analysis,the trial court must determine the relative commitment of the respective states to the laws involved and consider the history and current status of the states laws and the function and purpose of those laws.citation.these rules apply whether the dispute arises out of contract or tort citations,and a separate conflict of laws inquiry must be made with respect to each issue in the case citations.washington mutual bank superior court cal th,d.
when a provision is included in the contract 
in nedlloyd lines superior court cal th,d,the california supreme court explained that,when a provision has been included in the contract,california applies a somewhat different analytical process,under the restatement second of conflict of laws restatement,section.id.at,d,see also washington mutual bank superior court,supra,cal th at,d.
restatement section,subdivision provides the law of the state chosen by the parties to govern their contractual rights and duties will be applied,even if the particular issue is one which the parties could not have resolved by an explicit provision in their agreement directed to that issue,unless either a the chosen state has no substantial relationship to the parties or the transaction and there is no other reasonable basis for the parties choice,or b application of the law of the chosen state would be contrary to a fundamental policy of a state which has a materially greater interest than the chosen state in the determination of the particular issue and which,under the rule of,would be the state of the applicable law in the absence of an effective choice of law by the parties.
as summarized in the nedlloyd decision,the analytical approach adopted by restatement section requires the court first to determine either whether the chosen state has a substantial relationship to the parties or their transaction or whether there is any other reasonable basis for the parties choice of law.if neither of these tests is met,that is the end of the inquiry,and the court need not enforce the parties choice of law.if,however,either test is met,the court must next determine whether the chosen state law is contrary to a fundamental policy of california.if there is no such conflict,the court shall enforce the parties choice of law.if,however,there is a fundamental conflict with california law,the court must then determine whether california has a materially greater interest than the chosen state in the determination of the particular issue citation.nedlloyd lines superior court,supra,cal th at,d,fns.omitted.guardian savings loan md associates th,d.
applying the nedlloyd restatement analysis 
here,of course,the contract did include an express provision.we therefore undertake the restatement analysis,as explained by the california supreme court in nedlloyd lines superior court,supra,cal th,d.
new york has a substantial relationship to the parties or transaction 
the express provision in the contract elected to apply and to construe the contract under new york law.
under the initial inquiry outlined in nedlloyd,there can be little doubt that new york has a sufficient connection to the contract and the parties to meet the substantial relationship test under nedlloyd.plaintiff,although a delaware corporation,nonetheless has its principal place of business in new york.the limited partnership which defendants joined was a new york partnership.
civil code section represents a fundamental policy of california 
we turn to the next part of the nedlloyd analysis whether the new york law on the issue is contrary to a fundamental public policy of california,in the determination of the particular issue.nedlloyd lines superior court,supra,cal th at,d,the particular issue to be determined is the reciprocity of attorney fees clauses,a very narrow issue indeed.
california does have a fundamental policy concerning the reciprocity of attorney fee provisions in contracts.civil code section,subdivision a expressly provides that,attorney fees provided for by this section shall not be subject to waiver by the parties to any contract which is entered into after the effective date of this section.any provision in any such contract which provides for a waiver of attorney fees is void,subd.a.as the court stated in ribbens,transport intern.pool,supra,d,this language is mandatory,unavoidable and emphatic.section a is no default provision or gapfiller,subject to override by the parties.rather,it represents a basic and fundamental policy choice by the state of california that nonreciprocal attorney fees contractual provisions create reciprocal rights to such fees.
section a constitutes the statutorily expressed public policy of california,and,thus,under california rules regarding enforcement of contractual choice of law provisions,if california has a materially greater interest in the subject of the litigation than the state chosen by the parties,section a will be applied in lieu of the chosen state law ribbens,transport intern.pool,supra,d at.
plaintiff urges that there is no such fundamental public policy,or,more precisely,that the public policy supporting civil code section,subdivision a,does not run in favor of a business entity such as defendant grove.plaintiff relies on plcm group,drexler,supra,cal th,d,for the proposition that civil code section was designed to enable consumers and others who may be in a disadvantageous bargaining position to protect their rights through the judicial process by permitting recovery of attorney fees incurred in litigation in the event they prevail.citations.plcm group,drexler,supra,cal th at,d,italics added.emphasizing this rationale,plaintiff also points to the plcm court citation of the legislative counsel enrolled bill memorandum on assembly bill reg.sess.dated june,at page,reporting to the governor that,the bill is intended to protect persons of limited means who sign contracts with those in a superior bargaining position.plcm group,drexler,supra,cal th at,d.in essence,therefore,plaintiff argues that civil code section should not operate in favor of a sophisticated or corporate business entity.
we reject this notion.a party status as a business entity does not remove it from the ambit of section a mutuality rule.california courts have made clear that the state contract law policies protect business entities as well as individual consumers.see a m produce fmc,d,dist affording moderately sized business entity the protections of california unconscionability doctrine and section a when litigating against multinational corporation e xperienced but legally unsophisticated businessmen may be unfairly surprised by unconscionable contract terms and even large business entities may have relatively little bargaining power,depending on the identity of the other contracting party and the commercial circumstances surrounding the agreement.citation omitted.california interest in applying section a to the agreements under consideration here is fully as significant as its interest in applying that statute to agreements involving individual consumers.ribbens,transport intern.pool,supra,d at.
plaintiff next argues that ribbens is inapplicable,because it was decided before plcm group,drexler,supra,cal th,d.thus,plaintiff contends,ribbens is description of the policy behind civil code section is erroneous,because it conflicts with the statements of the plcm court,described above,to the effect that civil code section was not intended for the benefit of sophisticated business entities.we disagree.
civil code section is not designed exclusively for the benefit of individuals or unsophisticated,weaker parties to a contract.rather,it reflects a general policy to prevent attorney fee provisions.thus,it promotes certainty,and prevents overreaching both in the negotiation of a contract and in the use of the courts during litigation.attorney fees clauses can be used as instruments of oppression to force settlements of dubious or unmeritorious claims.international billing services,emigh th,d.this litigation concern applies,whether the parties are of different or equal bargaining strength in the negotiation of the contract.
plcm itself also alluded to the certainty principle in describing the rationale for civil code section section as amended reflects the legislative purpose to establish uniform treatment of fee recoveries in actions on contracts containing attorney fee provisions plcm group,drexler,supra,cal th at,d.the policy supported by civil code section is the evenhanded enforcement of contractual attorney fee provisions.ribbens is wholly consistent with this policy that it was decided before plcm does not detract from its applicability.
california has a materially greater interest than new york in the subject of the litigation 
plaintiff argues that ribbens is inapplicable for a second reason that its facts are significantly different from those here.thus,even though california has a fundamental policy embodied in civil code section,and this fundamental policy conflicts with new york law on the same subject,the circumstances here,unlike those in ribbens,do not show that california has a materially greater interest in the subject of the litigation,so as to require the application of california law,rather than new york law,to the attorney fees issue.we also reject this contention.
plaintiff points out certain factual distinctions between ribbens and the instant case.ribbens did involve a california contract to buy and sell goods in california.here,by contrast,the transaction was a new york partnership agreement to be performed payment rendered in new york,and concerned oil and gas operations in oklahoma and texas.nonetheless,in both cases,the party choosing the litigation availed itself of california courts.fair access to california courts is a significant part of the policy underlying civil code section.ribbens,transport intern.pool,supra,d at.
in ribbens,the court acknowledged that california might have had a reduced interest in securing to ribbens,a mexican corporation,the benefits of the mutuality provision.ribbens was the party seeking fees.the court also noted,however,that,california does have a significant regulatory interest in applying the rule to its corporate resident,transport international pool,the defending party which conducted substantial business in california.ribbens,transport intern.pool,supra,d at,italics added.
here,plaintiff sued california residents in california.the interest of california in seeing its residents receive fair play with respect to attorney fees,when resort is made to the california courts,is a fundamental equitable policy of this state.because resort is made to the cal