introduction 
traders sports,and several individuals collectively,traders brought this action against the city of san leandro san leandro challenging a gross receipts tax imposed by the voters of san leandro on businesses,such as traders,that sell concealable firearms and ammunition for concealable firearms.traders principally alleged that the method for submitting the tax to the voters for their approval violated the procedure set out by government code section,subdivision b,hereafter section,which is part of proposition,a statutory initiative adopted by the voters of california in.section prohibits an ordinance proposing such a tax from being put before the voters unless it has been approved by a vote of all members of the legislative body of the local government or district.despite section,the san leandro city council city council approved placing the tax on the ballot by a simple majority,rather than a vote of its members.
this appeal challenges the sustaining of san leandro demurrer to traders complaint without leave to amend.in conducting our review,this court is required to explore the limits of the power of a home rule charter city,such as san leandro,to follow charter provisions and ordinances that are in conflict with state statutes.we conclude that,as a charter city,section can not override san leandro core constitutional authority over the conduct of its local elections.see cal,art.xi,subd.a.accordingly,we affirm the trial court judgment in favor of san leandro because the vote requirement of section is superseded by san leandro charter and municipal code,which allows a tax measure to be placed on the ballot by a simple majority vote of the city council.
facts and procedural history 
in reciting the facts,we are guided by principles governing appellate review after the sustaining of a demurrer without leave to amend.we treat the demurrer as admitting all material facts properly pleaded,but not contentions,deductions or conclusions of fact or law.citation.we also consider matters which may be judicially noticed.citation.blank kirwan cal d,see also tensor group city of glendale th,d.in accordance with these principles,we set out the following facts derived from the allegations of traders complaint and attached documents,which we judicially notice.
on march,by a to majority vote,the city council adopted resolution,which is at the center of this controversy.the resolution called for a special municipal election at which the voters of san leandro would be asked to vote yes or no on the following measure 
shall the ordinance providing for a percent business license fee levied on firearms dealers based on the sale of concealable firearms and ammunition be adopted this special election was consolidated with the general municipal election that was scheduled for june.
at the june,general election,this measure,known as measure h,received a majority of the vote and was passed.measure h has been codified into the san leandro municipal code as part of section.measure h levies a business license tax on merchants within san leandro measured at three percent of their gross sales attributable to the sale of firearms capable of being concealed upon the person and ammunition for such firearms,with the exception of sales to public agencies.
on july,traders filed its original complaint against city.the complaint alleged that measure h was a an impermissible,confiscatory sanction on appellants personal and property rights among the various theories of recovery asserted was denial of equal protection of the laws,use of suspect classifications,racial animosity,imposition of improper burdens on the enjoyment of constitutionally guaranteed rights,and lack of a reasonable relationship between the fee imposed by measure h and the services provided.
we are most concerned with the cause of action in traders complaint alleging that the san leandro ordinance was invalid because the method by which the city council placed it before the voters conflicted with state law.the complaint pointed out that resolution,which placed measure h on the ballot,passed by a vote of the city council.the complaint alleged that measure h was invalid and void because it was placed on the ballot by an inadequate vote,citing section.as already noted,section was enacted as part of proposition,a statewide initiative.the intent of the initiative was to give the local electorate a greater degree of control over the exercise of local taxing power with the obvious goal of reducing the tax burden.city of westminster county of orange d.see generally santa clara county local transportation authority guardino cal th,d,full text of proposition reprinted as appendix to opinion.section provides that 
no tax subject to the vote requirement prescribed by section a category which includes measure h shall be presented at an election unless the ordinance or resolution proposing such tax is approved by a vote of all members of the legislative body of the local government or district.
on december,san leandro filed a motion for judgment on the pleadings arguing that traders had failed to allege facts sufficient to constitute a cause of action under any theory.on april,the court entered an order granting san leandro motion for judgment on the pleadings,but giving traders leave to amend.on april,traders filed an amended complaint that was essentially identical to its original complaint.after the trial court sustained san leandro demurrer to traders amended complaint without leave to amend,judgment for san leandro was entered.this appeal followed.
discussiona.standard of 
san leandro argues that when a judgment is entered after a demurrer is sustained,the standard of review is abuse of discretion.this is only partially correct.a demurrer tests the legal sufficiency of the complaint hernandez city of pomona th,d sargoy resolution trust th,d.on appeal from a dismissal after an order sustaining a demurrer,we review the order de novo,exercising our independent judgment about whether the complaint states a cause of action as a matter of law.moore regents of university of california cal d,cert.den,d desai farmers ins.exchange th,d.we give the complaint a reasonable interpretation,reading it as a whole and viewing its parts in context.blank kirwan,supra,cal d at,see aubry hospital dist.cal th,d.we deem to be true all material facts properly pled.serrano priest cal d,cert.den,d.we must also accept as true those facts that may be implied or inferred from those expressly alleged.marshall gibson,dunn crutcher th,d.if no liability exists as a matter of law,we must affirm that part of the judgment sustaining the demurrer.see baughman state of california th,d.
while the decision to sustain or overrule a demurrer is a legal ruling subject to de novo review on appeal,the granting of leave to amend involves an exercise of the trial court discretion.hernandez city of pomona,supra,th at,d see moore regents of university of california,supra,cal d at,desai farmers ins.exchange,supra,th at,d.when the trial court sustains a demurrer without leave to amend,we must also consider whether the complaint might state a cause of action if a defect could reasonably be cured by amendment.if the defect can be cured,then the judgment of dismissal must be reversed to allow the plaintiff an opportunity to do so.the plaintiff bears the burden of demonstrating a reasonable possibility to cure any defect by amendment.hendy losse cal d,d,blank kirwan,supra,cal d at,baughman state of california,supra,th at,d.a trial court abuses its discretion if it sustains a demurrer without leave to amend when the plaintiff shows a reasonable possibility to cure any defect by amendment.aubry hospital,supra,cal th at,d,see code civ.if the plaintiff can not show an abuse of discretion,the trial court order sustaining the demurrer without leave to amend must be affirmed.hernandez city of pomona,supra,th at,d.
theories of relief 
in the course of san leandro motion for judgment on the pleadings,the parties stipulated that traders would be limited to three specific causes of action for relief in its challenge to the tax imposed by measure h.these are that 
measure