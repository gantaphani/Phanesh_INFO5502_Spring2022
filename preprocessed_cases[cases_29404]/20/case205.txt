danny locke locke was convicted in new hampshire superior court of conspiracy to commit robbery,felony robbery,first degree assault and second degree murder relating to the robbery and death of roland labranche.the supreme court of new hampshire upheld the convictions.state locke.locke now appeals the district court order denying his petition for writ of habeas corpus.a certificate of appealability was granted solely on the issue of whether locke was in custody after he implicated himself in the robbery.because the state court decision that locke was not in custody at any point during the interview was not an unreasonable application of clearly established federal law,we affirm.
background 
we recount here only the relevant,undisputed facts related to the interview of locke a statement of facts relating to the robbery and murder of roland labranche can be found in state locke.
in the early morning hours of june,roland labranche was robbed and beaten to death on pierce island in new hampshire.on july,christopher rockett rockett admitted his participation in the robbery and murder and implicated locke.four police officers,dressed in plain clothes,drove in two unmarked police cars to locke residence,in concord,new hampshire.after detective ronchi and sergeant yeardi knocked on the door,detective ronchi identified himself and told locke that he was investigating an incident that had occurred in portsmouth.locke agreed to accompany the officers to the state police headquarters headquarters after he dressed.
locke was transported to the headquarters in an unmarked police car,which he entered without assistance.both at locke residence and en route to the headquarters,locke was told that he was not in custody and was free to leave.locke and the officers arrived at the headquarters shortly before locke exited the car.upon arrival,detective ronchi led locke past rockett,who was standing outside the headquarters with another officer,to a interview room.again,locke was told that he need not stay or speak with the police.
initially,locke denied being in portsmouth on the night of june.detective ronchi responded by informing locke that he did not believe locke story and that he was investigating a homicide.after consenting to a search of his residence,locke asked to change his statement.locke stated that he and rockett had gone to hampton beach on the night of june,but that locke had fallen asleep in the back of the car on the way home.locke further stated that when he awoke,a third person was in the car.when detective ronchi asked whether that person was matthew zola,locke replied that he locke did want to be involved in this.detective ronchi responded by again informing locke that he could leave and motioning toward the door,but locke stayed seated and did not request to leave.
detective ronchi reinitiated conversation and informed locke that rockett had admitted being on pierce island on the night of the robbery and murder.locke again stated that his only memory of that evening was leaving hampton and falling asleep in the car.in addition,locke requested to speak with rockett.detective ronchi again stated that he did not believe locke was being truthful and told locke that witnesses on pierce island had seen two persons entering a car identified as the victim.locke then asked whether he had any rights.the detective stated that locke was not under arrest,not in custody and he was free to leave at any time.locke did not leave nor did he ask to leave or be driven home.
again,detective ronchi initiated questioning.during this line of questioning,locke admitted to being on pierce island on the night of june and participating in the robbery of roland labranche with rockett.locke provided details of the robbery,stating that he knelt down,held the victim head and told the victim that it would all be over in a minute.locke stated that rockett had knocked the victim to the ground,but that locke had become afraid and ran away as rockett was going through the victim pockets.locke stated that he had looked back to see rockett kicking the victim,and that he soon thereafter returned to concord without rockett.
the detective again informed locke that he did not believe his story and that rockett had provided a different version of the events.detective ronchi then arranged a meeting between the petitioner and rockett.rockett entered the interview room where locke,detective ronchi and sergeant yeardi were present and told locke danny,go ahead and tell them.they know everything.they knew everything before they got here.locke responded by stating we had an agreement never to talk to anybody about this.detective ronchi then ended the meeting and removed rockett from the interview room.
after the initial encounter with rockett,locke stood and walked into the hallway.sergeant yeardi ran into locke in the hallway and had a brief discussion with locke,during which he stated that someone would be with locke in a few minutes.sergeant yeardi neither blocked locke path nor told him to go back into the interview room.
next,detective ronchi returned to the interview room and again stated that he did not believe locke was telling the whole truth.locke continued to maintain that his only involvement was in holding the victim head and telling him it would all be over soon.
detective ronchi then initiated a second meeting between locke and rockett.rockett was brought into the interview room by the police.although no police officers were present in the interview room,the police monitored the conversation through an adjacent observation room and could observe both locke and rockett.during this meeting,locke was visibly upset.after twenty minutes,the police ended the second meeting and rockett was escorted out of the interview room.
after this second meeting with rockett,detective ronchi asked locke to accompany him into another interview room,and stated that locke did not have to go with him.locke agreed to accompany the detective into the second interview room.during this meeting,locke admitted to participating in both the robbery and the murder.he stated chris and i both were kicking the man,and that i knelt down and put my hand over the man mouth to prevent him from screaming.after this statement,the petitioner indicated that he did not want to talk anymore and the interview was concluded.locke was then arrested.at no point prior to either admission was locke advised of his miranda rights.
on february,a jury found locke guilty of conspiracy to commit robbery,felony robbery,first degree assault and second degree murder.locke statements implicating himself in the robbery and murder were admitted at trial.the new hampshire supreme court upheld the convictions.locke,at.in affirming that locke was not in custody at any point during the interview,the new hampshire supreme court stated the defendant was clearly not in custody at the beginning of his questioning nor was the defendant in custody at any time during the course of the interview.id.at.the new hampshire supreme court emphasized that locke repeatedly was told that he was not in custody and that he was free to leave.id.at.
on april,locke filed a petition for writ of habeas corpus in federal court.the district court entered its judgment against locke on january,and this timely appeal followed.a certificate of appealability was granted solely on the issue of whether locke was in custody after he implicated himself in the robbery.
ii.standard of review 
we review the federal district court denial of locke petition for writ of habeas corpus de novo.johnson norton,cir stating that review of a federal district court legal determinations is de novo.our review,however,like that of the district court,is ultimately governed by the antiterrorism and effective death penalty act of aedpa,d.
under aedpa,an application for writ of habeas corpus by a person in state custody that was adjudicated on the merits will not be granted unless the decision of the state court resulted in a decision that involved an unreasonable application of,clearly established federal law,as determined by the supreme court of the united states.id.d.clearly established f